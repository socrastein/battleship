(()=>{"use strict";var e={763:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(379),i=t.n(r),o=t(364),a=t.n(o)()(i());a.push([e.id,"#statusName {\n  width: min(100%, 30rem);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: rgb(var(--white));\n  font-size: 1.25rem;\n  font-weight: bold;\n  padding: 0.25rem;\n  background-image: radial-gradient(\n    rgba(8, 8, 100, 0.8),\n    rgba(8, 50, 150, 0.5)\n  );\n}\n\n#playerHudContainer {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin: 0 auto;\n  height: 50%;\n  width: min(100%, 30rem);\n  background-color: rgb(var(--white));\n}\n\n#topHudContainer {\n  margin-top: 0.5rem;\n  padding: 0 1rem;\n  display: flex;\n  justify-content: space-between;\n}\n\n#playerStatusContainer {\n  display: flex;\n  flex-direction: column;\n  /* align-items: center; */\n  gap: 0.25rem;\n  width: 50%;\n}\n\n.selectedSquare {\n  background-color: rgba(var(--white), 0.5);\n}\n\n.missedSquare {\n  background-color: rgba(var(--white), 0.75);\n  border-radius: 50%;\n}\n\n.hitIndicator {\n  display: flex;\n  width: 100%;\n  aspect-ratio: 1;\n  z-index: 50;\n}\n\n.hitSquare {\n  background-color: rgba(255, 0, 0, 0.5);\n  border-radius: 50%;\n  z-index: 50;\n}\n\n#statusFire {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  justify-content: space-evenly;\n  padding: 0 0.25rem;\n\n  font-size: 1.25rem;\n  text-align: center;\n}\n\n#statusFireSquare,\n#statusFireButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border: solid rgb(var(--black)) 2px;\n  border-radius: 1rem;\n\n  height: 4rem;\n  width: 5rem;\n\n  color: rgb(var(--white));\n  font-weight: bold;\n}\n\n#statusFireSquare {\n  font-size: 2rem;\n  background-image: linear-gradient(\n    0deg,\n    rgba(8, 8, 100, 0.8),\n    rgba(8, 50, 150, 0.5)\n  );\n}\n\n#statusFireButton {\n  font-size: 1.5rem;\n  background-color: darkred;\n}\n\n#resultMessage {\n  display: flex;\n  align-items: center;\n  text-align: center;\n  font-size: 1.25rem;\n}\n\n#endTurnButton {\n  border: solid rgb(var(--black)) 2px;\n  border-radius: 1rem;\n  background-color: lightgreen;\n\n  font-size: 1.25rem;\n  font-weight: bold;\n\n  height: 2.25rem;\n  width: 10rem;\n}\n",""]);const s=a},568:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(379),i=t.n(r),o=t(364),a=t.n(o)()(i());a.push([e.id,"#gridContainer,\n#smallGridContainer {\n  width: min(100%, 30rem);\n  aspect-ratio: 1;\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n\n  background-image: linear-gradient(rgb(128, 128, 225), rgb(53, 53, 126));\n}\n\n#smallGridContainer {\n  grid-template-columns: repeat(10, 1fr);\n  max-width: 50%;\n}\n\n.gridSquare,\n.gridLabel {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  aspect-ratio: 1;\n\n  user-select: none;\n\n  font-size: .75rem;\n  font-weight: bold;\n  color: rgba(var(--white), 0.75);\n\n  border: solid rgba(var(--white), 0.5) 1px;\n}\n\n.highlight {\n  background-color: rgba(var(--white), 0.75);\n}\n\n.highlightError {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.gridLabel {\n  border: none;\n}\n",""]);const s=a},237:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(379),i=t.n(r),o=t(364),a=t.n(o)()(i());a.push([e.id,"#passScreen {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  z-index: 500;\n  height: 100dvh;\n  width: 100dvw;\n\n  gap: 3rem;\n}\n\n#passScreenMessage {\n  color: rgb(var(--white));\n  font-size: 2rem;\n  font-weight: bold;\n  text-align: center;\n}\n\n#passScreenButton {\n  height: 6rem;\n  width: 16rem;\n\n  background-color: rgb(var(--white));\n\n  border: solid rgb(var(--black)) 4px;\n  border-radius: 1rem;\n  font-size: 2rem;\n}\n",""]);const s=a},489:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(379),i=t.n(r),o=t(364),a=t.n(o)()(i());a.push([e.id,"#shipPlacementContainer {\n  width: min(100%, 30rem);\n  padding: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  background-color: rgb(var(--white));\n}\n\n#placeShipText {\n  text-align: center;\n  line-height: 1.2rem;\n}\n\n#acceptButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 10%;\n  height: 4rem;\n  width: 12rem;\n\n  background-color: lightgreen;\n\n  border: solid rgb(var(--black)) 2px;\n  border-radius: 1rem;\n\n  font-size: 2rem;\n  font-weight: bold;\n}\n\n.shipContainer {\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  align-items: center;\n  max-height: 3rem;\n}\n\n.ship {\n  position: absolute;\n  background-color: grey;\n  border-radius: 1rem;\n  border: solid black 2px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  user-select: none;\n  overflow: hidden;\n\n  touch-action: none;\n}\n\n.shipHighlight {\n  background-color: cyan;\n}\n\n.vertical {\n  writing-mode: vertical-rl;\n  text-orientation: upright;\n  letter-spacing: -2px;\n}\n\n.occupied {\n  background-color: rgba(var(--white), 0.5);\n}\n\n.invalid {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.Carrier {\n  border-radius: 15% 0 50% 15%;\n}\n\n.Carrier.vertical {\n  border-radius: 15% 15% 0 50%;\n}\n\n.Battleship {\n  border-radius: 1rem 50% 50% 1rem;\n}\n\n.Battleship.vertical {\n  border-radius: 50% 50% 1rem 1rem;\n}\n.Destroyer {\n  border-radius: 1rem 50% 50% 1rem;\n}\n\n.Destroyer.vertical {\n  border-radius: 50% 50% 1rem 1rem;\n}\n.Submarine {\n  border-radius: 40%;\n}\n\n.Patrol {\n  border-radius: 1rem 50% 50% 1rem;\n}\n\n.Patrol.vertical {\n  border-radius: 1rem 1rem 50% 50%;\n}\n",""]);const s=a},560:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(379),i=t.n(r),o=t(364),a=t.n(o)()(i());a.push([e.id,"#startContainer {\n  height: 100dvh;\n  width: 100dvw;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2rem;\n  padding: 1rem;\n}\n\n#startTitleContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#startImage {\n  max-width: 100%;\n}\n\n#startTitle {\n  text-align: center;\n  font-size: 2.5rem;\n  background-color: rgba(var(--white), 0.4);\n  border-radius: 2rem;\n  padding: 1rem 2rem;\n  width: fit-content;\n}\n\n#startInputContainer {\n  margin-top: 4rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n}\n\n#startNewButton {\n  height: 4rem;\n  width: 12rem;\n  background-color: lightblue;\n\n  border: none;\n  border-radius: 1rem;\n\n  font-size: 2rem;\n  font-weight: bold;\n}\n\n#startInputLabel {\n  font-size: 1.25rem;\n  color: rgb(var(--white));\n}\n\n#startInputField {\n  text-align: center;\n  font-size: 1.25rem;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 1rem;\n  background-color: rgba(var(--white), 0.75);\n}\n",""]);const s=a},208:(e,n,t)=>{t.d(n,{A:()=>h});var r=t(379),i=t.n(r),o=t(364),a=t.n(o),s=t(615),c=t.n(s),l=new URL(t(74),t.b),d=new URL(t(198),t.b),u=a()(i()),m=c()(l),p=c()(d);u.push([e.id,':root {\n  --white: 245, 245, 245;\n  --black: 45, 45, 45;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  color: rgb(var(--black));\n  background-color: transparent;\n  font-family: "Ubuntu", sans-serif;\n}\n\n@font-face {\n  font-family: "Ubuntu";\n  src: url('+m+'), format("woff2");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: "Ubuntu";\n  src: url('+p+'), format("woff2");\n  font-weight: bold;\n  font-style: normal;\n}\n\n@keyframes spinning {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\nhtml,\nbody {\n  overscroll-behavior: none;\n}\n\n#mainContainer {\n  height: 100dvh;\n  width: 100dvw;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-image: linear-gradient(lightblue, darkblue);\n}\n',""]);const h=u},364:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),n.push(d))}},n}},615:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},379:e=>{e.exports=function(e){return e[1]}},186:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var m=t(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)n[m].references++,n[m].updater(p);else{var h=i(p,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=t(o[a]);n[s].references--}for(var c=r(e,i),l=0;l<o.length;l++){var d=t(o[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=c}}},433:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},990:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},626:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},155:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},827:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},74:(e,n,t)=>{e.exports=t.p+"3a51f6c263fa234cd08c.woff2"},198:(e,n,t)=>{e.exports=t.p+"7ceec6fd3e7d00630b25.woff2"}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(186),n=t.n(e),r=t(155),i=t.n(r),o=t(433),a=t.n(o),s=t(626),c=t.n(s),l=t(990),d=t.n(l),u=t(827),m=t.n(u),p=t(208),h={};h.styleTagTransform=m(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=d(),n()(p.A,h),p.A&&p.A.locals&&p.A.locals;var g=t(237),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=a().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=d(),n()(g.A,f),g.A&&g.A.locals&&g.A.locals;var y=t(560),v={};v.styleTagTransform=m(),v.setAttributes=c(),v.insert=a().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d(),n()(y.A,v),y.A&&y.A.locals&&y.A.locals;const b=t.p+"320fc33a124f0ddf0253.svg",x=function(){const e=document.createElement("img");return e.id="startImage",e.src=b,e},S=function(){const e=document.createElement("h1");return e.id="startTitle",e.textContent="BATTLESHIP",e},E=function(e){const n=document.getElementById("startInputContainer");n.innerHTML="";const t=document.createElement("label");t.textContent=`Enter name for Player ${e}`,t.id="startInputLabel",t.for="startInputField";const r=document.createElement("input");r.id="startInputField",r.placeholder=`Player ${e}`,r.addEventListener("keydown",(e=>{13===e.keyCode&&r.value.length>0&&w(r.value.trim())}));const i=document.createElement("button");i.id="startNewButton",i.textContent="Accept",i.addEventListener("click",(()=>{r.value.length>0&&w(r.value.trim())})),n.append(t),n.append(r),r.focus(),n.append(i)},w=function(e){if(void 0===U.player1Name)return U.player1Name=e,void E(2);void 0===U.player2Name&&(U.player2Name=e,T())},T=function(){const e=document.getElementById("mainContainer");e.innerHTML="",void 0!==U.playerTurnNum&&1===U.playerTurnNum?U.playerTurnNum=2:U.playerTurnNum=1;const n=x(),t=S(),r=document.createElement("div");r.id="passScreen";const i=document.createElement("div");i.id="passScreenMessage",i.innerText=`Pass device to \n${U[`player${U.playerTurnNum}Name`]}`;const o=document.createElement("button");o.id="passScreenButton",L(o,U.passTimer),r.append(n),r.append(t),r.append(i),r.append(o),e.append(r)},L=function(e,n){if(0===n)return e.innerText="Next Turn",e.style.backgroundColor="lightgreen",void(e.onclick=()=>{Se()});setTimeout((()=>{L(e,n-1)}),1e3),e.innerText=n};var A=t(489),B={};B.styleTagTransform=m(),B.setAttributes=c(),B.insert=a().bind(null,"head"),B.domAPI=i(),B.insertStyleElement=d(),n()(A.A,B),A.A&&A.A.locals&&A.A.locals;const k=[{name:"Carrier",short:"Carrier",size:5},{name:"Battleship",short:"Battle",size:4},{name:"Destroyer",short:"Destroy",size:3},{name:"Submarine",short:"Sub",size:3},{name:"Patrol",short:"Boat",size:2}],C=" ABCDEFGHIJ";let q;window.addEventListener("load",(()=>{q=U.isMobile}));const I=function(e,n,t=!0){const r=document.createElement("div");return r.classList.add("ship",`${e.name}`),t&&(r.innerText=e.name),r.name=e.name,r.size=e.size,r.index=n,r},z=function(e){e.classList.contains("vertical")?(e.classList.remove("vertical"),e.innerText=k[e.index].name):(e.classList.add("vertical"),e.innerText=k[e.index].short),N(e)},N=function(e,n){let t;t=n?n.offsetWidth:document.getElementById("A1").offsetWidth,e.classList.contains("vertical")?(e.style.height=t*e.size*.9+"px",e.style.width=.8*t+"px"):(e.style.height=.8*t+"px",e.style.width=t*e.size*.9+"px")},$=function(e){let n=0,t=0,r=0,i=0;function o(e){q?(r=e.touches[0].pageX,i=e.touches[0].pageY,document.ontouchend=s,document.ontouchmove=a):(r=e.clientX,i=e.clientY,document.onmouseup=s,document.onmousemove=a)}function a(o){(o=o||window.event).preventDefault(),H(e),q?(n=r-o.touches[0].pageX,t=i-o.touches[0].pageY,r=o.touches[0].pageX,i=o.touches[0].pageY):(n=r-o.clientX,t=i-o.clientY,r=o.clientX,i=o.clientY),e.style.top=e.offsetTop-t+"px",e.style.left=e.offsetLeft-n+"px"}function s(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null,setTimeout((()=>{P(e)}),100)}e.onmousedown=o,e.addEventListener("touchstart",(e=>{o(e)}))},H=function(e){M();const n=document.elementFromPoint(e.offsetLeft,e.offsetTop);if(null===n)return;if(!n.classList.contains("gridSquare"))return;let t;if(e.classList.contains("vertical")){let e=n.id[0];t=C.indexOf(e)}else t=n.id.slice(1);t<=11-e.size?n.classList.add("highlight"):n.classList.add("highlightError")},M=function(){const e=document.getElementsByClassName("highlight");e.length>0&&e[0].classList.remove("highlight");const n=document.getElementsByClassName("highlightError");n.length>0&&n[0].classList.remove("highlightError")},P=function(e,n,t=!1){let r,i;if(n||(n=document.elementFromPoint(e.offsetLeft,e.offsetTop)),null===n||!n.classList.contains("gridSquare"))return e.classList.contains("vertical")&&z(e),F(e),void j();if(H(e),e.classList.contains("vertical")?(r=.1*e.offsetWidth,i=.05*e.offsetHeight):(r=.05*e.offsetWidth,i=.1*e.offsetHeight),n.classList.contains("highlightError")){const t=n.id.slice(1),r=n.id[0];n=e.classList.contains("vertical")?document.getElementById(`${C[11-e.size]}${t}`):document.getElementById(`${r}${11-e.size}`)}e.style.top=n.offsetTop+i+"px",e.style.left=n.offsetLeft+r+"px",e.headSquare=n,M(),t||j()},F=function(e){e.style.top=e.origY+"px",e.style.left=e.origX+"px",e.headSquare=null},j=function(){!function(){const e=document.querySelectorAll(".occupied"),n=e.length;for(let t=0;t<n;t++){const n=e[t];n.classList.remove("occupied"),n.classList.remove("invalid")}}();let e=!0;const n=document.querySelectorAll(".ship"),t=n.length;for(let r=0;r<t;r++){const t=n[r];t.headSquare?D(t).forEach((n=>{const t=document.getElementById(n);t.classList.contains("occupied")?(t.classList.add("invalid"),e=!1):t.classList.add("occupied")})):e=!1}e?(console.log("All ships placed"),R()):G()},D=function(e){if(!e.headSquare)return null;const n=[],t=parseInt(e.headSquare.id.slice(1)),r=C.indexOf(e.headSquare.id[0]);for(let i=0;i<e.size;i++)e.classList.contains("vertical")?n.push(document.getElementById(`${C[r+i]}${t}`).id):n.push(document.getElementById(`${C[r]}${t+i}`).id);return n},R=function(){const e=document.querySelectorAll(".ship"),n=e.length,t=U.playerTurnNum;U[`player${t}Board`].clearShips();for(let r=0;r<n;r++){const n=e[r];n.classList.contains("vertical")?n.vertical=!0:n.vertical=!1;const i=D(n);U[`player${t}Board`].addShip(n.name,n.size,n.vertical,i)}O()},G=function(){let e;e=document.getElementById("acceptButton"),e&&(e.style.display="none")},O=function(){let e;e=document.getElementById("acceptButton"),e?e.style.display="flex":(e=document.createElement("button"),e.id="acceptButton",e.innerText="Accept",document.getElementById("shipPlacementContainer").append(e),e.onclick=()=>T())},U={isMobile:void 0,player1Name:void 0,player1Board:void 0,player2Name:void 0,player2Board:void 0,playerTurnNum:void 0,passTimer:5};navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?U.isMobile=!0:U.isMobile=!1,console.log("Mobile: "+U.isMobile);const X=function(e){this.owner=e,this.ships=[],this.shotsHit=[],this.shotsMissed=[]};X.prototype.addShip=function(e,n,t,r){const i=new Y(e,n,t);i.setLocation(r),this.ships.push(i)},X.prototype.clearShips=function(){this.ships=[]},X.prototype.receiveAttack=function(e){if(this.shotsMissed.includes(e))throw console.error("This square has already been fired upon.");this.shotsMissed.push(e),this.ships.forEach((n=>!!n.includes(e)&&(n.takeHit(),!0)))},X.prototype.sendAttack=function(e,n){if(this.shotsHit.includes(n))throw console.error("This square has already been fired upon.");this.shotsHit.push(n),e.receiveAttack(n)},X.prototype.shipsAreSunk=function(){let e=!0;return this.ships.forEach((n=>{console.log(n),n.isSunk||(e=!1)})),e};const Y=function(e,n,t){this.name=e,this.size=n,this.vertical=t,this.squares=[],this.hits=0,this.isSunk=!1};Y.prototype.takeHit=function(){if(this.isSunk)throw console.error("Ship has already been sunk.");this.hits+=1,this.hits===this.size&&(this.isSunk=!0)},Y.prototype.setLocation=function(e){if(e.length!==this.size)throw console.error("Ship needs to occupy as many squares as its size.");this.squares=[...e]};var W=t(568),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=a().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=d(),n()(W.A,_),W.A&&W.A.locals&&W.A.locals;const J=[null,"A","B","C","D","E","F","G","H","I","J",null],Q=[null,"1","2","3","4","5","6","7","8","9","10",null];function V(e=!1){const n=document.createElement("div");return n.id=e?"smallGridContainer":"gridContainer",J.forEach((t=>{Q.forEach((r=>{if(e&&(!t||!r))return;const i=document.createElement("div");t||e||(i.innerText=r),r||e||(i.innerText=t),t&&r?(i.classList.add("gridSquare"),e?i.dataset.coord=`${t}${r}`:i.id=`${t}${r}`):i.classList.add("gridLabel"),n.append(i)}))})),n}var K=t(763),Z={};Z.styleTagTransform=m(),Z.setAttributes=c(),Z.insert=a().bind(null,"head"),Z.domAPI=i(),Z.insertStyleElement=d(),n()(K.A,Z),K.A&&K.A.locals&&K.A.locals;const ee=function(e){const n=document.getElementById("mainContainer");n.innerHTML="";const t=x(),r=S(),i=document.createElement("div");i.id="passScreen";const o=document.createElement("div");o.id="passScreenMessage",o.innerText=`GAME OVER\n\n${e} has destroyed the enemy fleet!`,o.style.fontSize="1.5rem";const a=document.createElement("button");a.id="passScreenButton",a.innerText="Main Menu",a.onclick=()=>{U.player1Name=void 0,U.player1Board=void 0,U.player2Name=void 0,U.player2Board=void 0,U.playerTurnNum=void 0,Se()},i.append(t),i.append(r),i.append(o),i.append(a),n.append(i)},ne=document.getElementById("mainContainer");let te,re;const ie=()=>{const e=document.querySelectorAll(".gridSquare"),n=e.length;for(let t=0;t<n;t++)e[t].addEventListener("click",(e=>{const n=e.target;he(n)}))},oe=function(){const e=document.createElement("div");e.id="topHudContainer";const n=ae(U.playerTurnNum),t=V(!0);return e.append(n),e.append(t),e},ae=function(e){const n=document.createElement("div");n.id="playerStatusContainer",document.createElement("div").id="statusShips";const t=te.ships,r=t.length;for(let e=0;e<r;e++){const r=t[e],i=I(t[e],e,!1);i.style.position="static",n.append(i),de(i);const o=r.size;for(let e=0;e<o;e++){const n=document.createElement("div");n.classList.add("hitIndicator"),re.shotsHit.includes(`${r.squares[e]}`)&&n.classList.add("hitSquare"),i.append(n)}r.isSunk&&(i.style.opacity="25%")}return n};let se,ce,le;const de=function(e){const n=()=>{se&&se.classList.remove("shipHighlight"),ce&&ce.classList.remove("shipHighlight"),e.classList.add("shipHighlight"),se=e;const n=e.classList;let t;switch(!0){case n.contains("Carrier"):t=document.querySelector(".smallShip.Carrier"),t.classList.add("shipHighlight"),ce=t;break;case n.contains("Battleship"):t=document.querySelector(".smallShip.Battleship"),t.classList.add("shipHighlight"),ce=t;break;case n.contains("Destroyer"):t=document.querySelector(".smallShip.Destroyer"),t.classList.add("shipHighlight"),ce=t;break;case n.contains("Submarine"):t=document.querySelector(".smallShip.Submarine"),t.classList.add("shipHighlight"),ce=t;break;case n.contains("Patrol"):t=document.querySelector(".smallShip.Patrol"),t.classList.add("shipHighlight"),ce=t}le&&(clearTimeout(le),le=null),le=setTimeout((()=>{se&&se.classList.remove("shipHighlight"),ce&&ce.classList.remove("shipHighlight")}),2500)};U.isMobile?e.addEventListener("touchstart",(()=>{n()})):e.addEventListener("mousedown",(()=>{n()}))},ue=function(){const e=document.createElement("div");return e.id="statusFire",e.innerText="Select square to attack",e},me=function(e,n=!0){console.log(e);const t=document.getElementById("statusFire");t.innerHTML="",t.style.flexDirection="column";const r=document.createElement("div");r.id="resultMessage",r.innerText=e;const i=document.createElement("button");i.id="endTurnButton",i.innerText="End Turn",i.onclick=()=>{T()},t.append(r),n&&t.append(i)};let pe;const he=e=>{e.classList.contains("missedSquare")||e.classList.contains("hitSquare")||(pe&&pe.classList.remove("selectedSquare"),e.classList.add("selectedSquare"),pe=e,function(e){const n=document.getElementById("statusFire");n.innerText="";const t=document.createElement("div");t.innerText=e.id,t.id="statusFireSquare";const r=document.createElement("button");r.id="statusFireButton",r.innerText="FIRE",r.onclick=()=>{console.log("Shot fired!"),ge(e.id)},n.append(t),n.append(r)}(e))},ge=e=>{const n=re.ships,t=n.length;let r="MISS!",i=!1;const o=document.getElementById(e);for(let a=0;a<t;a++){const t=n[a];if(t.squares.includes(e)){if(t.takeHit(),i=!0,r=`Direct hit on enemy ${t.name}!`,t.isSunk&&(r=`\nEnemy ${t.name} destroyed!`,re.shipsAreSunk()))return me(r,!1),setTimeout((()=>{ee(U[`player${U.playerTurnNum}Name`])}),2500),void be(o,i);break}}be(o,i),me(r)},fe=()=>{const e=document.getElementById("smallGridContainer"),n=te.ships,t=n.length;for(let r=0;r<t;r++){const t=I(n[r],r,!1);t.classList.add("smallShip");let i=document.querySelector(`[data-coord=${n[r].squares[0]}]`);e.append(t),n[r].vertical&&t.classList.add("vertical"),N(t,i),P(t,i,!0)}window.onresize=()=>{const e=document.querySelectorAll(".smallShip");for(let r=0;r<t;r++){const t=document.querySelector(`[data-coord=${n[r].squares[0]}]`);P(e[r],t)}}},ye=()=>{te.shotsMissed.forEach((e=>{document.getElementById(e).classList.add("missedSquare")})),te.shotsHit.forEach((e=>{document.getElementById(e).classList.add("hitSquare")}))},ve=()=>{re.shotsMissed.forEach((e=>{console.log(e),document.querySelector(`[data-coord=${e}]`).classList.add("missedSquare")})),re.shotsHit.forEach((e=>{console.log(e),document.querySelector(`[data-coord=${e}]`).classList.add("hitSquare")}))},be=(e,n)=>{n?(e.classList.add("hitSquare"),te.shotsHit.push(e.id)):(e.classList.add("missedSquare"),te.shotsMissed.push(e.id))},xe=document.getElementById("mainContainer"),Se=function(e=!1){e&&(()=>{U.player1Name="Player 1",U.player1Board=new X("Player 1"),U.player2Name="Player 2",U.player2Board=new X("Player 2"),U.playerTurnNum=1,U.passTimer=0;const e=k.length;for(let n=0;n<e;n++){const e=k[n],t=[],r="ABCDE"[n];for(let n=0;n<e.size;n++)t.push(`${r}${n+1}`);U.player1Board.addShip(e.name,e.size,!1,t),U.player2Board.addShip(e.name,e.size,!1,t)}})(),xe.innerHTML="",U.player1Name?U.player1Board?U.player2Board?(e&&(console.log(U.player1Board),console.log(U.player2Board)),function(){!function(){const e=U.playerTurnNum;let n;n=1===e?2:1,te=U[`player${e}Board`],re=U[`player${n}Board`]}();const e=document.createElement("div");e.id="statusName",e.innerText=U[`player${U.playerTurnNum}Name`],ne.append(e),ne.append(V()),ie(),ye();const n=document.createElement("div");n.id="playerHudContainer",n.append(oe()),ne.append(n),[...document.querySelectorAll(".ship")].forEach((e=>{N(e)})),fe(),ve(),n.append(ue())}()):Ee(2):Ee(1):function(e){const n=document.getElementById("mainContainer"),t=document.createElement("div");t.id="startContainer";const r=document.createElement("div");r.id="startTitleContainer";const i=x(),o=S();r.append(i),r.append(o);const a=document.createElement("div");a.id="startInputContainer";const s=document.createElement("button");s.id="startNewButton",s.textContent="New Game",s.addEventListener("click",(()=>{E(1)})),a.append(s),t.append(r),t.append(a),n.append(t)}()},Ee=function(e){U.playerTurnNum=e,U[`player${e}Board`]=new X(U[`player${e}Name`]),xe.append(V()),function(){const e=document.getElementById("mainContainer"),n=document.createElement("div");n.id="shipPlacementContainer",n.append(function(){const e=document.createElement("div");return e.id="placeShipText",e.innerText="Drag and drop to place your ships\nDouble-tap to rotate on grid",e}());const t=[],r=k.length;for(let e=0;e<r;e++){const r=document.createElement("div");r.classList.add("shipContainer");const i=I(k[e],e);i.addEventListener("dblclick",(e=>{z(i)})),t.push(i),r.append(i),n.append(r)}e.append(n),t.forEach((e=>{N(e),$(e),e.origX=e.getBoundingClientRect().left,e.origY=e.getBoundingClientRect().top})),window.onresize=()=>{const e=document.querySelectorAll(".ship"),n=e.length;for(let t=0;t<n;t++)if(e[t].headSquare){const n=document.getElementById(`${e[t].headSquare.id}`);P(e[t],n)}}}()};Se()})()})();